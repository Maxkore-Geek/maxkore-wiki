# Python 基础语法

## 一、变量和数据类型

### 基本数据类型
```python
# 整数
age = 18

# 浮点数
price = 19.99

# 字符串
name = "Maxkore"

# 布尔值
is_student = True

# 空值
nothing = None
```

### 类型转换
```python
# 字符串转整数
num = int("123")

# 整数转字符串
text = str(456)

# 整数转浮点数
float_num = float(123)
```

### 类型检查
```python
print(type(age))  # <class 'int'>
print(isinstance(name, str))  # True
```

## 二、数据结构

### 列表 (List)
```python
# 创建列表
fruits = ["apple", "banana", "orange"]

# 添加元素
fruits.append("grape")

# 访问元素
print(fruits[0])  # apple

# 切片
print(fruits[1:3])  # ['banana', 'orange']

# 列表推导式
squares = [x**2 for x in range(5)]  # [0, 1, 4, 9, 16]
```

### 元组 (Tuple) - 不可变
```python
coordinates = (10, 20)
x, y = coordinates  # 解包
```

### 字典 (Dict)
```python
# 创建字典
person = {
    "name": "Maxkore",
    "age": 18,
    "city": "Beijing"
}

# 访问值
print(person["name"])

# 添加键值对
person["job"] = "Developer"

# 遍历字典
for key, value in person.items():
    print(f"{key}: {value}")
```

### 集合 (Set)
```python
# 创建集合
numbers = {1, 2, 3, 3, 4}  # {1, 2, 3, 4} 自动去重

# 集合运算
a = {1, 2, 3}
b = {3, 4, 5}
print(a | b)  # 并集
print(a & b)  # 交集
print(a - b)  # 差集
```

## 三、控制流程

### 条件判断
```python
score = 85

if score >= 90:
    print("优秀")
elif score >= 60:
    print("及格")
else:
    print("不及格")
```

### 循环
```python
# for 循环
for i in range(5):
    print(i)

# while 循环
count = 0
while count < 5:
    print(count)
    count += 1

# 遍历列表
fruits = ["apple", "banana", "orange"]
for fruit in fruits:
    print(fruit)

# 带索引的遍历
for index, fruit in enumerate(fruits):
    print(f"{index}: {fruit}")
```

## 四、函数

### 定义函数
```python
def greet(name):
    """打招呼函数"""
    return f"Hello, {name}!"

# 调用函数
print(greet("Maxkore"))
```

### 参数类型
```python
# 默认参数
def power(x, n=2):
    return x ** n

# 可变参数
def sum_numbers(*args):
    return sum(args)

# 关键字参数
def print_info(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

# 使用示例
print(power(5))  # 25
print(power(5, 3))  # 125
print(sum_numbers(1, 2, 3, 4))  # 10
print_info(name="Maxkore", age=18)
```

### 匿名函数 (Lambda)
```python
# lambda 函数
square = lambda x: x ** 2
print(square(5))  # 25

# 与 map 结合使用
numbers = [1, 2, 3, 4]
squared = list(map(lambda x: x**2, numbers))
```

## 五、文件操作

```python
# 写入文件
with open("test.txt", "w", encoding="utf-8") as f:
    f.write("Hello, Python!")

# 读取文件
with open("test.txt", "r", encoding="utf-8") as f:
    content = f.read()
    print(content)

# 逐行读取
with open("test.txt", "r") as f:
    for line in f:
        print(line.strip())
```

## 六、异常处理

```python
try:
    num = int(input("请输入数字: "))
    result = 10 / num
    print(f"结果是: {result}")
except ValueError:
    print("输入的不是有效数字")
except ZeroDivisionError:
    print("不能除以零")
except Exception as e:
    print(f"发生错误: {e}")
else:
    print("没有发生错误")
finally:
    print("无论如何都会执行")
```

## 七、模块和包

```python
# 导入模块
import math
import random
from datetime import datetime

# 使用模块
print(math.pi)
print(random.randint(1, 10))
print(datetime.now())

# 创建自己的模块
# mymodule.py
def hello():
    print("Hello from module")

# 导入自定义模块
import mymodule
mymodule.hello()
```

## 八、进阶技巧

### 列表推导式
```python
# 基本列表推导式
squares = [x**2 for x in range(10)]

# 带条件的列表推导式
even_squares = [x**2 for x in range(10) if x % 2 == 0]

# 嵌套列表推导式
matrix = [[i+j for j in range(3)] for i in range(3)]
```

### 生成器
```python
# 生成器表达式
gen = (x**2 for x in range(10))

# 生成器函数
def fibonacci(n):
    a, b = 0, 1
    for _ in range(n):
        yield a
        a, b = b, a + b

for num in fibonacci(10):
    print(num)
```

### 装饰器
```python
def timer(func):
    import time
    def wrapper(*args, **kwargs):
        start = time.time()
        result = func(*args, **kwargs)
        end = time.time()
        print(f"函数执行时间: {end - start}秒")
        return result
    return wrapper

@timer
def slow_function():
    import time
    time.sleep(1)
    return "完成"

slow_function()
```

### 上下文管理器
```python
class MyContext:
    def __enter__(self):
        print("进入上下文")
        return self
    
    def __exit__(self, exc_type, exc_val, exc_tb):
        print("退出上下文")

with MyContext():
    print("在上下文中执行")
```

## 九、常用标准库

```python
# os 模块 - 操作系统接口
import os
print(os.getcwd())  # 当前目录
print(os.listdir())  # 列出文件

# sys 模块 - 系统相关
import sys
print(sys.version)  # Python 版本

# json 模块 - JSON 处理
import json
data = {"name": "Maxkore", "age": 18}
json_str = json.dumps(data)  # Python 转 JSON
data2 = json.loads(json_str)  # JSON 转 Python

# re 模块 - 正则表达式
import re
pattern = r'\d+'
text = "年龄: 18, 分数: 95"
matches = re.findall(pattern, text)
print(matches)  # ['18', '95']
```

## 十、实用技巧

```python
# 交换变量
a, b = b, a

# 链式比较
if 0 < x < 10:
    print("x 在 0 和 10 之间")

# 三元表达式
age = 18
status = "成年" if age >= 18 else "未成年"

# 合并字典
dict1 = {"a": 1, "b": 2}
dict2 = {"c": 3, "d": 4}
merged = {**dict1, **dict2}

# 多行字符串
long_text = """
这是第一行
这是第二行
这是第三行
"""

# 获取字典值（带默认值）
value = person.get("key", "默认值")

# 列表去重
unique = list(set([1, 2, 2, 3, 3, 4]))
```